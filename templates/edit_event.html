{% extends 'base.html' %}

{% block content %}
    <div class="row">
        <div class="col-lg-8 mx-auto">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h2 class="card-title mb-4">‚úèÔ∏è ÁºñËæë‰∫ã‰ª∂</h2>
                    
                    <form method="POST" action="{{ url_for('edit_event', event_id=event.id) }}">
                        <div class="row g-3">
                            <!-- Â•ΩÂèãÂêçÁß∞ -->
                            <div class="col-md-6">
                                <label for="friend_name" class="form-label">üë• Â•ΩÂèãÂêçÁß∞</label>
                                <input type="text" class="form-control" id="friend_name" name="friend_name" value="{{ event.friend_name }}" required>
                            </div>
                            
                            <!-- ‰∏ñÁïåÂêçÁß∞ -->
                            <div class="col-md-6">
                                <label for="world_name" class="form-label">üåç ‰∏ñÁïåÂêçÁß∞</label>
                                <input type="text" class="form-control" id="world_name" name="world_name" value="{{ event.world.world_name }}" required>
                            </div>
                            
                            <!-- ‰∏ñÁïåÊ†áÁ≠æ -->
                            <div class="col-md-12">
                                <label for="world_tags" class="form-label">üè∑Ô∏è ‰∏ñÁïåÊ†áÁ≠æ (Áî®ÈÄóÂè∑ÂàÜÈöî)</label>
                                <input type="text" class="form-control" id="world_tags" name="world_tags" value="{{ event.world.tags }}" placeholder="Social,Music,Dance">
                            </div>
                            
                            <!-- ÂºÄÂßãÊó∂Èó¥ -->
                            <div class="col-md-6">
                                <label for="start_time" class="form-label">‚è∞ ÂºÄÂßãÊó∂Èó¥</label>
                                <input type="datetime-local" class="form-control" id="start_time" name="start_time" value="{{ event.start_time_formatted }}" required>
                            </div>
                            
                            <!-- ÁªìÊùüÊó∂Èó¥ -->
                            <div class="col-md-6">
                                <label for="end_time" class="form-label">‚è±Ô∏è ÁªìÊùüÊó∂Èó¥</label>
                                <input type="datetime-local" class="form-control" id="end_time" name="end_time" value="{{ event.end_time_formatted }}" required>
                            </div>
                            
                            <!-- Â§áÊ≥®‰ø°ÊÅØ -->
                            <div class="col-md-12">
                                <label for="notes" class="form-label">üìù Â§áÊ≥®</label>
                                <textarea class="form-control" id="notes" name="notes" rows="4" placeholder="Ê∑ªÂä†ÂÖ≥‰∫éÊ≠§Ê¨°‰∫ã‰ª∂ÁöÑÂ§áÊ≥®...">{{ event.notes or '' }}</textarea>
                            </div>
                            
                            <!-- Êìç‰ΩúÊåâÈíÆ -->
                            <div class="col-md-12">
                                <div class="d-flex gap-2">
                                    <button type="submit" class="btn btn-primary">‰øùÂ≠ò‰øÆÊîπ</button>
                                    <a href="{{ url_for('event_detail', event_id=event.id) }}" class="btn btn-outline-secondary">ÂèñÊ∂à</a>
                                    
                                    <!-- Âà†Èô§ÊåâÈíÆ -->
                                    <form method="POST" action="{{ url_for('delete_event', event_id=event.id) }}" class="d-inline" onsubmit="return confirm('Á°ÆÂÆöË¶ÅÂà†Èô§Ëøô‰∏™‰∫ã‰ª∂ÂêóÔºüÊ≠§Êìç‰Ωú‰∏çÂèØÊÅ¢Â§ç„ÄÇ');">
                                        <button type="submit" class="btn btn-danger">Âà†Èô§‰∫ã‰ª∂</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
{% endblock %}